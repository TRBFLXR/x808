todo: memory
todo: refactor math
